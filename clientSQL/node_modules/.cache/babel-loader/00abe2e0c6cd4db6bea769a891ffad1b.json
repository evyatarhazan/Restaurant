{"ast":null,"code":"import _defineProperty from \"/home/evyatar/resteron_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/evyatar/resteron_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/evyatar/resteron_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/evyatar/resteron_project/client/src/components/BookForm.js\";\n\nimport React, { useState } from 'react'; // import { Form, Button } from 'react-bootstrap';\n\nimport { v4 as uuidv4 } from 'uuid';\n\nvar BookForm = function BookForm(props) {\n  var _useState = useState({\n    bookname: props.book ? props.book.bookname : '',\n    author: props.book ? props.book.author : '',\n    quantity: props.book ? props.book.quantity : '',\n    price: props.book ? props.book.price : '',\n    date: props.book ? props.book.date : ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      book = _useState2[0],\n      setBook = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMsg = _useState4[0],\n      setErrorMsg = _useState4[1];\n\n  var bookname = book.bookname,\n      author = book.author,\n      price = book.price,\n      quantity = book.quantity;\n\n  var handleOnSubmit = function handleOnSubmit(event) {\n    event.preventDefault();\n    var values = [bookname, author, price, quantity];\n    var errorMsg = '';\n    var allFieldsFilled = values.every(function (field) {\n      var value = \"\".concat(field).trim();\n      return value !== '' && value !== '0';\n    });\n\n    if (allFieldsFilled) {\n      var _book = {\n        id: uuidv4(),\n        bookname: bookname,\n        author: author,\n        price: price,\n        quantity: quantity,\n        date: new Date()\n      };\n      props.handleOnSubmit(_book);\n    } else {\n      errorMsg = 'Please fill out all the fields.';\n    }\n\n    setErrorMsg(errorMsg);\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n\n    switch (name) {\n      case 'quantity':\n        if (value === '' || parseInt(value) === +value) {\n          setBook(function (prevState) {\n            return _objectSpread({}, prevState, _defineProperty({}, name, value));\n          });\n        }\n\n        break;\n\n      case 'price':\n        if (value === '' || value.match(/^\\d{1,}(\\.\\d{0,2})?$/)) {\n          setBook(function (prevState) {\n            return _objectSpread({}, prevState, _defineProperty({}, name, value));\n          });\n        }\n\n        break;\n\n      default:\n        setBook(function (prevState) {\n          return _objectSpread({}, prevState, _defineProperty({}, name, value));\n        });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, errorMsg && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 20\n    }\n  }, errorMsg), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleOnSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Book Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    className: \"input-control\",\n    type: \"text\",\n    name: \"bookname\",\n    value: bookname,\n    placeholder: \"Enter name of book\",\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"author\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Book Author\"), /*#__PURE__*/React.createElement(Form.Control, {\n    className: \"input-control\",\n    type: \"text\",\n    name: \"author\",\n    value: author,\n    placeholder: \"Enter name of author\",\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"quantity\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(Form.Control, {\n    className: \"input-control\",\n    type: \"number\",\n    name: \"quantity\",\n    value: quantity,\n    placeholder: \"Enter available quantity\",\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"price\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"Book Price\"), /*#__PURE__*/React.createElement(Form.Control, {\n    className: \"input-control\",\n    type: \"text\",\n    name: \"price\",\n    value: price,\n    placeholder: \"Enter price of book\",\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    className: \"submit-btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n};\n\nexport default BookForm;","map":{"version":3,"names":["React","useState","v4","uuidv4","BookForm","props","bookname","book","author","quantity","price","date","setBook","errorMsg","setErrorMsg","handleOnSubmit","event","preventDefault","values","allFieldsFilled","every","field","value","trim","id","Date","handleInputChange","target","name","parseInt","prevState","match"],"sources":["/home/evyatar/resteron_project/client/src/components/BookForm.js"],"sourcesContent":["import React, { useState } from 'react';\n// import { Form, Button } from 'react-bootstrap';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst BookForm = (props) => {\n  const [book, setBook] = useState({\n    bookname: props.book ? props.book.bookname : '',\n    author: props.book ? props.book.author : '',\n    quantity: props.book ? props.book.quantity : '',\n    price: props.book ? props.book.price : '',\n    date: props.book ? props.book.date : ''\n  });\n\n  const [errorMsg, setErrorMsg] = useState('');\n  const { bookname, author, price, quantity } = book;\n\n  const handleOnSubmit = (event) => {\n    event.preventDefault();\n    const values = [bookname, author, price, quantity];\n    let errorMsg = '';\n\n    const allFieldsFilled = values.every((field) => {\n      const value = `${field}`.trim();\n      return value !== '' && value !== '0';\n    });\n\n    if (allFieldsFilled) {\n      const book = {\n        id: uuidv4(),\n        bookname,\n        author,\n        price,\n        quantity,\n        date: new Date()\n      };\n      props.handleOnSubmit(book);\n    } else {\n      errorMsg = 'Please fill out all the fields.';\n    }\n    setErrorMsg(errorMsg);\n  };\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    switch (name) {\n      case 'quantity':\n        if (value === '' || parseInt(value) === +value) {\n          setBook((prevState) => ({\n            ...prevState,\n            [name]: value\n          }));\n        }\n        break;\n      case 'price':\n        if (value === '' || value.match(/^\\d{1,}(\\.\\d{0,2})?$/)) {\n          setBook((prevState) => ({\n            ...prevState,\n            [name]: value\n          }));\n        }\n        break;\n      default:\n        setBook((prevState) => ({\n          ...prevState,\n          [name]: value\n        }));\n    }\n  };\n\n  return (\n    <div className=\"main-form\">\n      {errorMsg && <p className=\"errorMsg\">{errorMsg}</p>}\n      <Form onSubmit={handleOnSubmit}>\n        <Form.Group controlId=\"name\">\n          <Form.Label>Book Name</Form.Label>\n          <Form.Control\n            className=\"input-control\"\n            type=\"text\"\n            name=\"bookname\"\n            value={bookname}\n            placeholder=\"Enter name of book\"\n            onChange={handleInputChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"author\">\n          <Form.Label>Book Author</Form.Label>\n          <Form.Control\n            className=\"input-control\"\n            type=\"text\"\n            name=\"author\"\n            value={author}\n            placeholder=\"Enter name of author\"\n            onChange={handleInputChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"quantity\">\n          <Form.Label>Quantity</Form.Label>\n          <Form.Control\n            className=\"input-control\"\n            type=\"number\"\n            name=\"quantity\"\n            value={quantity}\n            placeholder=\"Enter available quantity\"\n            onChange={handleInputChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"price\">\n          <Form.Label>Book Price</Form.Label>\n          <Form.Control\n            className=\"input-control\"\n            type=\"text\"\n            name=\"price\"\n            value={price}\n            placeholder=\"Enter price of book\"\n            onChange={handleInputChange}\n          />\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\" className=\"submit-btn\">\n          Submit\n        </Button>\n      </Form>\n    </div>\n  );\n};\n\nexport default BookForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}